*,*::before,*::after{box-sizing:border-box;}
:root{--sidebar-width:600px;--day-width:32px;--row-height:54px;--primary:var(--color-accent-primary);--surface:var(--color-surface-base);--surface-alt:var(--color-surface-alt);--border:var(--color-border-default);--text:var(--color-text-primary);--text-muted:var(--color-text-muted);--top-offset:1rem;--header-vertical-offset:5rem;--sidebar-header-height:0px;--header-band-height:0rem;--body-offset: 2rem; --task-header-height:4.5rem;--vertical-header-offset:15.55rem; --timeline-header-height:4.5rem;--task-header-top:calc(var(--top-offset) + var(--content-offset));--timeline-header-top:calc(var(--top-offset) + var(--content-offset));--gantt-header-height:0px;--task-scroll-height:calc(100vh - 40px);--gantt-scroll-height:calc(100vh - 40px);--content-offset:0.88rem;--stage-fill-color:var(--color-stage-fill);--single-event-marker-color:var(--color-accent-green);--single-event-marker-selected-color:var(--color-accent-pink);}
html{height:100%;overflow:hidden;}
body{margin:0;font-family:"Inter","Segoe UI",-apple-system,BlinkMacSystemFont,sans-serif;background:var(--color-body-background);color:var(--text-general-color,var(--color-text-primary));min-height:100vh;height:100vh;overflow:hidden;display:flex;flex-direction:column;font-size:var(--text-general-font-size,.8rem);font-weight:var(--text-general-font-weight,600);letter-spacing:-0.02em;text-align:left;}
h1,h2,h3{margin:0;font-size:.95rem;font-weight:var(--text-general-font-weight,600);}
button{border:1px solid var(--border);background:var(--color-white);color:var(--color-solid-black);border-radius:0px;padding:.5rem 1rem;font-size:.95rem;font-weight:var(--text-general-font-weight,600);cursor:pointer;transition:transform .15s ease,box-shadow .15s ease, border-color .15s ease;text-align:left;width:12rem;}
button:disabled{opacity:.45;cursor:not-allowed;}
button:not(:disabled):hover{transform:translateY(-1px);box-shadow:0 6px 12px var(--color-slate-alpha01);border-color:var(--color-slate-alpha01);}
input,textarea{font:inherit;border-radius:0px;border:1px solid var(--border);padding:.35rem .5rem;width:100%;background:var(--color-white);color:inherit;}
input:focus,textarea:focus{outline:2px solid var(--color-white);border-color:transparent;}
textarea{resize:vertical;min-height:96px;}
.top-bar{display:flex;flex-direction:column;gap:.9rem;padding:1rem 1.5rem;background:var(--color-white);border-bottom:1px solid var(--border);box-shadow:0 2px 8px var(--color-shadow-alpha-light);position:sticky;top:0;z-index:50;}
.top-bar-row{display:flex;align-items:flex-start;gap:1rem;flex-wrap:wrap;justify-content:space-between;width:100%;}
.top-bar-row.heading-row{justify-content:flex-start;align-items:center;position:relative;}
.top-bar-row.action-row{align-items:center;}
.project-heading{display:flex;align-items:center;gap:.8rem;flex-wrap:wrap;justify-content:flex-start;}
.project-heading h1{font-size:.95rem;font-weight:var(--text-general-font-weight,600);}
.action-group{display:flex;flex-wrap:wrap;align-items:center;gap:.5rem;}
.app-logo{height:3rem;width:auto;display:block;}
.hamburger-btn{border:1px solid var(--border);background:var(--color-white);color:var(--color-solid-black);border-radius:0px;width:2.5rem;height:2.5rem;display:inline-flex;align-items:center;justify-content:center;font-size:1.2rem;cursor:pointer;transition:transform .15s ease,border-color .15s ease;}
.hamburger-btn:hover{transform:translateY(-1px);border-color:var(--color-slate-alpha01);}
.menu-row{position:absolute;top:100%;left:0;padding:.6rem;background:var(--color-white);border:1px solid var(--border);box-shadow:0 10px 24px var(--color-shadow-alpha-light);border-radius:0px;min-width:15rem;width:15rem;z-index:100;display:block;margin-top:.4rem;}
.menu-row[hidden]{display:none!important;}
.menu-actions{display:flex;flex-direction:column;align-items:stretch;gap:.35rem;width:100%;}
.menu-actions button{min-width:0;width:100%;text-align:left;border:none;box-shadow:none;}
.legend-wrapper{display:flex;align-items:center;justify-content:flex-end;flex:1 0 auto;margin-left:auto;}
.row-three .timeline-controls{margin-left:auto;justify-content:flex-end;}
.row-three{align-items:stretch;}
.row-three .timeline-controls .view-mode-toggle,
.row-three .timeline-controls .zoom-controls{justify-content:flex-end;}
.save-pdf-group{margin-left:auto;}
.top-bar button{background:var(--color-white);color:var(--color-solid-black);border:1px solid var(--border);min-height:25px;height:25px;display:flex;align-items:center;gap:.4rem;padding:.5rem 1rem;}
.top-bar .icon-btn{min-height:25px;height:25px;width:2.75rem;min-width:2.75rem;justify-content:center;}
.top-bar-sidebar-actions{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap;justify-content:flex-start;}
.top-bar .top-bar-sidebar-actions button{flex:0 0 auto;min-width:0;}
.legend{display:flex;flex-wrap:wrap;gap:.6rem;align-items:center;justify-content:flex-end;font-size:var(--text-text-small-font-size,.65rem);font-weight:var(--text-text-small-font-weight,450);color:var(--text-text-small-color,var(--color-text-muted));}
.legend-item{display:flex;align-items:center;gap:.3rem;font-size:var(--text-text-small-font-size,.65rem);font-weight:var(--text-text-small-font-weight,450);color:var(--text-text-small-color,var(--color-text-muted));}
.legend-swatch{width:16px;height:16px;border-radius:0px;box-shadow:0 0 0 1px var(--color-shadow-alpha-light);}
.app{display:flex;flex:1;min-height:0;}
.sidebar{width:var(--sidebar-width);flex:0 0 var(--sidebar-width);background:var(--surface);border-right:1px solid var(--border);display:flex;flex-direction:column;position:sticky;left:0;z-index:6;min-height:0;}
.sidebar-actions{display:flex;gap:.6rem;flex-wrap:wrap;}
.sidebar-actions button{flex:1 0 48%;min-width:0;}
.sidebar-actions .icon-btn{flex:0 0 auto;width:2.75rem;min-width:2.75rem;padding:.45rem;background:var(--color-white);color:var(--color-solid-black);border:1px solid var(--border);box-shadow:none;font-size:.95rem;line-height:1;border-radius:0px;}
.sidebar-actions .icon-btn:hover{transform:none;color:var(--color-solid-black);border-color:var(--color-slate-alpha01);}
.sidebar-actions .secondary{background:var(--color-white);color:var(--color-solid-black);border:1px solid var(--border);box-shadow:none;}
.sidebar-actions .secondary:hover{transform:none;color:var(--color-solid-black);border-color:var(--color-slate-alpha01);}
.task-list-header,
.task-row{display:grid;grid-template-columns:50px 120px 110px 110px 70px 90px;column-gap:0.6px;align-items:center;}
.task-list-header{padding:.35rem 1rem;font-size:var(--text-general-font-size,.8rem);font-weight:var(--text-general-font-weight,600);text-transform:uppercase;letter-spacing:-0.02em;color:var(--text-general-color,var(--color-text-primary));background:var(--color-accent-blue);position:sticky;top:var(--task-header-top, calc(var(--top-offset) + var(--content-offset)));z-index:6;align-items:center;align-content:start;border:1px solid var(--border);row-gap:.25rem;grid-template-rows:repeat(3,auto);min-height:var(--task-header-height);height:auto;}
.task-header-actions{grid-column:1 / 2;display:grid;grid-template-columns:1fr;grid-template-rows:repeat(2,1fr);align-items:center;gap:.15rem;align-self:center;justify-items:start;}
.task-header-actions button{background:transparent;border:none;box-shadow:none;width:2rem;height:2rem;min-width:2rem;justify-content:center;padding:0;color:var(--color-solid-black);text-align:center;}
#addTaskBtn{grid-row:1;grid-column:1;}
#removeTaskBtn{grid-row:2;grid-column:1;}
#moveUpBtn{grid-row:1;grid-column:2;justify-self:end;}
#moveDownBtn{grid-row:2;grid-column:2;justify-self:end;}
.task-list-header span{display:flex;align-items:center;justify-content:flex-end;padding:0 .35rem;align-self:center;grid-row:3;}
.task-header-identifier{justify-content:center;}
.task-header-name{justify-content:flex-start;}
.task-list-scroll{display:flex;flex-direction:column;padding-bottom: 17px;justify-content:flex-start;flex:1;overflow-y:auto;overflow-x:visible;max-height:var(--task-scroll-height);scrollbar-gutter:stable;background:var(--surface);min-height:0;direction:rtl;scroll-padding-top:var(--task-header-height);}
.task-list-scroll > *{direction:ltr;}
.task-list{flex:0;overflow:visible;padding:0;min-height:0;margin-top:0;transform:none;}
.task-row{align-items:center;padding:0 1.5rem;height:var(--row-height);border-bottom:1px solid var(--color-ink-alpha05);cursor:pointer;transition:background .15s ease,box-shadow .15s ease;font-size:var(--text-general-font-size,.8rem);}
.task-row > *{width:100%;box-sizing:border-box;height:100%;display:flex;align-items:center;padding:0 .35rem;}
.task-row .task-identifier{justify-content:center;font-weight:var(--text-text-small-font-weight,450);font-size:var(--text-text-small-font-size,.65rem);text-transform:uppercase;font-variant-numeric:tabular-nums;color:var(--text-text-small-color,var(--color-text-muted));}
.task-row.stage-row .task-identifier{color:var(--text-text-small-color,var(--color-text-muted));}
.task-row .task-identifier.identifier-placeholder{color:var(--text-text-small-color,var(--color-text-muted));font-weight:var(--text-general-font-weight,600);}
.task-row .task-name{justify-content:flex-start;}
.task-row .task-start,
.task-row .task-end,
.task-row .task-duration-cell,
.task-row .task-progress{justify-content:flex-end;}
.task-row:hover{background:var(--color-shadow-alpha-light);}
.task-row.selected{background:var(--color-shadow-alpha-light);box-shadow:inset 4px 0 0 var(--primary);}
.task-row.dragging{opacity:.55;}
.task-row.drag-over{background:var(--color-shadow-alpha-light);box-shadow:inset 0 0 0 2px var(--color-shadow-alpha-light);}
.task-row.stage-row{background:var(--stage-fill-color,var(--color-stage-fill));}
.task-row.stage-row.selected{box-shadow:inset 4px 0 0 var(--color-black-alpha90);}
.task-row.stage-child .task-name{padding-left:1.25rem;}
.task-row.stage-row .stage-meta-hidden{visibility:hidden;pointer-events:none;}
.task-name{display:flex;align-items:center;font-size:inherit;font-weight:var(--text-general-font-weight,600);color:var(--text-general-color,var(--color-text-primary));}
.task-duration{font-size:var(--text-text-small-font-size,.65rem);font-weight:var(--text-text-small-font-weight,450);text-align:center;padding:.3rem .5rem;border-radius:0px;;color:var(--text-text-small-color,var(--color-text-muted));height:30px;display:inline-flex;align-items:center;justify-content:center;line-height:1;}
.task-progress{position:relative;display:flex;align-items:center;justify-content:flex-end;gap:.2rem;height:100%;}
.task-row input[type="date"],.task-row input[type="number"]{font-size:var(--text-text-small-font-size,.65rem);padding:.25rem .4rem;height:30px;line-height:30px;}
.task-row input[type="date"]{width:100%;}
.task-progress input{text-align:right;width:68px;min-width:unset;padding-right:1.3rem;}
.task-progress span{position:relative;right:.35rem;transform:none;font-size:var(--text-general-font-size,.8rem);color:var(--text-general-color,var(--color-text-primary));}
.gantt-wrapper{flex:1;display:flex;flex-direction:column;min-width:0;}
.gantt-header{padding:0rem 1.75rem 1rem;display:flex;justify-content:space-between;align-items:center;gap:1rem;flex-wrap:wrap;position:sticky;top:var(--top-offset);z-index:5;background:var(--color-white);}
.gantt-header h2{font-size:.95rem;font-weight:var(--text-general-font-weight,600);}
.gantt-header-left{display:inline-flex;align-items:center;gap:.75rem;flex-wrap:wrap;}
.timeline-controls{display:flex;align-items:center;gap:.6rem;flex-wrap:wrap;}
.view-mode-toggle{display:inline-flex;align-items:center;gap:.4rem;}
.view-mode-toggle button{border:1px solid var(--border);background:var(--color-white);color:var(--color-solid-black);font-weight:var(--text-general-font-weight,600);padding:.3rem .75rem;border-radius:0px;cursor:pointer;transition:border-color .15s ease,box-shadow .15s ease;width:5rem;min-width:5rem;}
.view-mode-toggle button.active{border-color:var(--color-deadlineColor);box-shadow:0 0 0 1px var(--color-deadlineColor);}
.view-mode-toggle button:focus-visible{outline:2px solid var(--color-deadlineColor);outline-offset:2px;}
.zoom-controls{display:inline-flex;align-items:center;gap:.4rem;}
.zoom-controls button{border:1px solid var(--border);background:var(--color-white);color:var(--color-solid-black);font-weight:var(--text-button-font-weight,700);padding:.28rem .6rem;border-radius:0px;cursor:pointer;transition:border-color .15s ease,box-shadow .15s ease;width:3rem;min-width:3rem;}
.zoom-controls button:hover:not(:disabled){border-color:var(--color-slate-alpha01);}
.zoom-controls button:disabled{cursor:not-allowed;opacity:.45;}
.zoom-controls button:focus-visible{outline:2px solid var(--color-deadlineColor);outline-offset:2px;}
.planner-viewport{flex:1;display:flex;overflow-x:auto;overflow-y:hidden;position:relative;min-height:0;min-width:0;scrollbar-gutter:stable both-edges;align-items:flex-start;scroll-padding-top:var(--content-offset);padding-top:var(--content-offset);box-sizing:border-box;}
.gantt-calendar{flex:1;background:var(--surface);border-top:1px solid var(--border);position:relative;display:flex;flex-direction:column;min-width:0;}
.timeline-header{position:sticky;top:var(--timeline-header-top, calc(var(--top-offset) + var(--content-offset)));z-index:5;display:grid;background:var(--color-white);border-bottom:1px solid var(--border);box-shadow:0 4px 12px var(--color-shadow-alpha-light);grid-auto-flow:column;height:var(--timeline-header-height);min-height:var(--timeline-header-height);align-content:stretch;}
.timeline-header .timeline-year,
.timeline-header .timeline-month,
.timeline-header .timeline-week{display:flex;align-items:center;justify-content:center;padding:.4rem .6rem;font-weight:var(--text-general-font-weight,600);font-size:var(--text-general-font-size,.8rem);color:var(--text-general-color,var(--color-text-primary));border-left:1px solid var(--color-ink-alpha05);background:var(--color-shadow-alpha-light);}
.timeline-header .timeline-month{font-weight:var(--text-general-font-weight,600);font-size:var(--text-general-font-size,.8rem);color:var(--text-general-color,var(--color-text-primary));background:var(--color-accent-blue);}
.timeline-header .timeline-week{background:var(--color-white);color:var(--color-solid-black);}
.timeline-header .timeline-day-name,
.timeline-header .timeline-day-number{display:flex;align-items:center;justify-content:center;padding:.35rem .25rem;border-left:1px solid var(--color-ink-alpha05);background:transparent;}
.timeline-header > *{position:relative;z-index:2;}
.timeline-header .timeline-year,
.timeline-header .timeline-month,
.timeline-header .timeline-day-number{position:relative;z-index:2;}
.timeline-highlight{background:var(--color-danger-alpha12);border-left:2px solid transparent;border-right:2px solid transparent;border-radius:0px;pointer-events:none;position:absolute;z-index:1;}
.timeline-highlight--today{background:var(--color-danger-alpha12);border-color:var(--color-danger-text);}
.timeline-highlight--deadline{background:var(--color-deadline-fill);border-color:var(--color-deadline-color);}
.timeline-highlight--standdown{background-color:var(--color-shadow-alpha-light);background-image:repeating-linear-gradient(135deg,var(--color-white)0,var(--color-white)3px,transparent 3px,transparent 16px);background-attachment:fixed; background-position: 0 0 ;border:none;box-shadow:inset 0 0 0 1px var(--color-slate-alpha01);z-index:2;}
.timeline-header.week-view .timeline-highlight{border-radius:0px;}
.timeline-header .timeline-header-label{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);white-space:nowrap;pointer-events:none;}
.timeline-header .timeline-day-name.today,
.timeline-header .timeline-day-number.today,
.timeline-header .timeline-week.today{color:var(--color-danger-text);font-weight:var(--text-button-font-weight,700);}
.timeline-header .timeline-day-name.milestone-deadline,
.timeline-header .timeline-day-number.milestone-deadline,
.timeline-header .timeline-week.milestone-deadline{color:var(--color-deadline-color);font-weight:var(--text-button-font-weight,700);}
.timeline-header .timeline-day-name.milestone-standdown,
.timeline-header .timeline-day-number.milestone-standdown,
.timeline-header .timeline-week.milestone-standdown{color:var(--color-standdown-text);font-weight:var(--text-button-font-weight,700);border-left-color:transparent;}
.timeline-header .timeline-day-name.milestone-standdown-start,
.timeline-header .timeline-day-number.milestone-standdown-start,
.timeline-header .timeline-week.milestone-standdown-start{border-left:1px solid var(--color-slate-alpha01);}
.timeline-header .timeline-day-name.milestone-standdown-end,
.timeline-header .timeline-day-number.milestone-standdown-end,
.timeline-header .timeline-week.milestone-standdown-end{box-shadow:inset -1px 0 0 var(--color-slate-alpha01);}
.timeline-header .timeline-day-name.milestone-standdown-start.milestone-standdown-end,
.timeline-header .timeline-day-number.milestone-standdown-start.milestone-standdown-end,
.timeline-header .timeline-week.milestone-standdown-start.milestone-standdown-end{border-left:1px solid var(--color-slate-alpha01);box-shadow:inset -1px 0 0 var(--color-slate-alpha01);}
.timeline-header .timeline-day-name{font-size:var(--text-text-small-font-size,.65rem);font-weight:var(--text-text-small-font-weight,450);color:var(--text-text-small-color,var(--color-text-muted));letter-spacing:-0.02em;text-transform:uppercase;}
.timeline-header.day-view .timeline-day-name{font-size:var(--text-text-small-font-size,.65rem);transform:rotate(-90deg);transform-origin:center;line-height:1;white-space:nowrap;padding:.15rem 0;}
.timeline-header .timeline-day-number{font-size:var(--text-text-small-font-size,.65rem);font-weight:var(--text-text-small-font-weight,450);color:var(--text-text-small-color,var(--color-text-muted));}
.timeline-header.day-view .timeline-day-number:not(.today):not(.milestone-deadline):not(.milestone-standdown):not(.milestone-standdown-start):not(.milestone-standdown-end){color:var(--text-text-small-color,var(--color-text-muted));}
.timeline-header.day-view .timeline-day-number.is-monday:not(.today):not(.milestone-deadline):not(.milestone-standdown):not(.milestone-standdown-start):not(.milestone-standdown-end){color:var(--text-text-small-color,var(--color-text-muted));}
/* ---- Timeline Header Alignment Fix ---- */
.timeline-year,
.timeline-month{text-align:center;white-space:nowrap;}
.timeline-day-name,
.timeline-day-number{text-align:center;}
.timeline-header .timeline-week-date{justify-content:center;padding-left:0;}
.timeline-header .timeline-year:first-child,
.timeline-header .timeline-month:first-child,
.timeline-header .timeline-week:first-child,
.timeline-header .timeline-day-name:first-child,
.timeline-header .timeline-day-number:first-child{border-left:none;}
.timeline-header.week-view .timeline-year,
.timeline-header.week-view .timeline-month{background:var(--color-accent-blue);}
.timeline-header.day-view .timeline-year{background:var(--color-accent-blue);}
.gantt-body-scroll{flex:0;overflow-y:auto;overflow-x:visible;max-height:var(--gantt-scroll-height);scrollbar-gutter:stable;background:var(--surface);min-height:0;scroll-padding-top:var(--timeline-header-height);margin-top: -2px;}
.gantt-body{margin-top:0;display:flex;flex-direction:column;gap:0;transition:margin-top .2s ease;min-width:100%;}
.gantt-row{position:relative;height:var(--row-height);min-width:100%;overflow:visible;border-bottom: 1px solid var(--color-ink-alpha05);}
.gantt-row.stage-row{background:transparent;}
.gantt-row.stage-child .task-label{padding-left:1rem;}
.gantt-grid{position:absolute;inset:0;display:grid;pointer-events:none;z-index:0;}
.gantt-grid .day-cell{position:relative;border-left:1px solid var(--color-ink-alpha05);background:var(--color-grid-day-background);}
.gantt-grid .day-cell:nth-child(5n+1){background:var(--color-white);}
.gantt-grid .day-cell::before,
.gantt-grid .day-cell::after{content:"";position:absolute;top:0;bottom:0;left:0;right:0;border-radius:0px;pointer-events:none;}
.gantt-grid .day-cell::before{background:transparent;opacity:0;}
.gantt-grid .day-cell.milestone-deadline::before{background:var(--color-deadline-fill);border-left:2px solid var(--color-deadline-color);border-right:2px solid var(--color-deadline-color);opacity:1;}
.gantt-grid .day-cell.milestone-standdown{border-left-color:transparent;}
.gantt-grid .day-cell.milestone-standdown::before{background-color:var(--color-shadow-alpha-light);background-image:repeating-linear-gradient(135deg,var(--color-white)0,var(--color-white)3px,transparent 3px,transparent 16px);background-attachment:fixed;background-position:0 0;opacity:1;border-left:0;border-right:0;z-index:1;left:-1px;right:-1px;}
.gantt-grid .day-cell.milestone-standdown-start::before{border-left:1px solid var(--color-slate-alpha01);}
.gantt-grid .day-cell.milestone-standdown-end::before{border-right:1px solid var(--color-slate-alpha01);}
.gantt-grid .day-cell.milestone-standdown-start.milestone-standdown-end::before{border-left:1px solid var(--color-slate-alpha01);border-right:1px solid var(--color-slate-alpha01);}
.gantt-grid .day-cell.today::after{background:var(--color-danger-alpha12);border-left:2px solid var(--color-danger-text);border-right:2px solid var(--color-danger-text);}
.stage-empty-label{position:absolute;left:12px;top:50%;transform:translateY(-50%);font-weight:var(--text-general-font-weight,600);color:var(--text-general-color,var(--color-text-primary));pointer-events:none;}
.task-bar{position:absolute;top:50%;transform:translateY(-50%);height:35px;min-height:35px;border-radius:0px;background:var(--color-shadow-alpha-light);border:1px solid var(--color-shadow-alpha-light);display:flex;flex-direction:column;align-items:flex-start;justify-content:center;gap:.12rem;padding:.25rem .7rem;cursor:pointer;transition:box-shadow .2s ease,transform .2s ease;overflow:visible;}
.task-bar:hover{transform:translateY(calc(-50% - 0.5px));box-shadow:0 12px 22px var(--color-shadow-alpha-light);}
.task-bar.selected{background:var(--color-shadow-alpha-light);border-color:var(--color-shadow-alpha-light);box-shadow:0 12px 26px var(--color-shadow-alpha-light);}
.task-bar.stage-bar{background:var(--stage-fill-color,var(--color-stage-fill))!important;border-color:var(--color-black-alpha90)!important;box-shadow:0 2px 6px var(--color-stage-shadow);}
.task-bar.stage-bar:hover,
.task-bar.stage-bar.selected{background:var(--stage-fill-color)!important;border-color:var(--color-black-alpha90)!important;}
.task-bar.stage-bar .progress{background:var(--color-white-alpha35);}
.task-label{font-size:var(--text-general-font-size,.8rem);font-weight:var(--text-general-font-weight,600);line-height:1.05;white-space:nowrap;pointer-events:none;color:var(--text-general-color,var(--color-text-primary));position:relative;z-index:5;text-shadow:none;max-width:none;overflow:visible;text-overflow:clip;flex-shrink:0;}
.task-dates{font-size:var(--text-text-small-font-size,.65rem);font-weight:var(--text-text-small-font-weight,450);line-height:1.05;color:var(--text-text-small-color,var(--color-text-muted));pointer-events:none;position:relative;z-index:5;max-width:none;overflow:visible;text-overflow:clip;white-space:nowrap;flex-shrink:0;}
.task-bar .progress{position:absolute;top:0;bottom:0;left:0;width:0;background:repeating-linear-gradient(135deg,var(--color-white-alpha90)0,var(--color-white-alpha90)6px,var(--color-white-alpha25)6px,var(--color-white-alpha25)12px);background-color:var(--color-white-alpha25);border-radius:0px;pointer-events:none;transition:width .2s ease;z-index:5;box-shadow:inset -1px 0 0 var(--color-black-alpha08);overflow:hidden;}
.task-bar .progress.is-full{border-radius:0px;}
.mini-layer{position:absolute;inset:0;pointer-events:auto;border-radius:0px;overflow:visible;z-index:4;}
.single-event-marker{position:absolute;top:50%;transform:translate(-50%,-50%);width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;border-bottom:16px solid var(--single-event-marker-color,var(--color-accent-green));cursor:pointer;pointer-events:auto;z-index:6;}
.single-event-marker:hover{filter:brightness(1.05);}
.single-event-marker.selected{border-bottom-color:var(--single-event-marker-selected-color,var(--color-accent-pink));}
.mini-segment{position:absolute;top:0;bottom:0;opacity:.96;pointer-events:auto;border-radius:0px;box-shadow:inset 0 0 0 1px var(--color-shadow-alpha-light);cursor:pointer;transition:box-shadow .15s ease;background:var(--mini-color, var(--color-shadow-alpha-light));}
.mini-segment.locked{box-shadow:inset 0 0 0 3px var(--color-shadow-alpha-light);}
.mini-segment.undefined{background:var(--mini-color, var(--color-neutral245));box-shadow:inset 0 0 0 1px var(--color-slate-alpha01);}
.mini-segment .mini-handle{position:absolute;top:50%;transform:translateY(-50%);width:16px;height:70%;border-radius:0px;cursor:col-resize;background:transparent;border:1px solid transparent;box-shadow:none;display:flex;align-items:center;justify-content:center;z-index:5;transition:transform .15s ease;}
.mini-segment .mini-handle::before{display:none;}
.mini-segment .mini-handle:hover{transform:translateY(-50%) scale(1.05);}
.mini-segment .mini-handle-left{left:-7px;}
.mini-segment .mini-handle-right{right:-7px;}
.progress-handle{position:absolute;top:50%;transform:translate(-50%,-50%);width:16px;height:70%;border-radius:0px;cursor:ew-resize;background:transparent;border:1px solid transparent;box-shadow:none;display:flex;align-items:center;justify-content:center;pointer-events:auto;z-index:6;transition:transform .15s ease;}
.progress-handle::before{display:none;}
.progress-handle:hover{transform:translate(-50%,-50%) scale(1.05);}
.mini-segment .mini-handle.disabled{cursor:not-allowed;opacity:.2;background:transparent;box-shadow:none;}
.mini-segment.locked .mini-handle{cursor:not-allowed;background:transparent;opacity:.2;}
.mini-segment.locked .mini-handle:hover{background:transparent;}
.standdown-layer{position:absolute;inset:0;pointer-events:none;z-index:5;}
.standdown-gap{position:absolute;top:-2px;bottom:-2px;background-color:var(--color-shadow-alpha-light);background-image:repeating-linear-gradient(135deg,var(--color-white)0,var(--color-white)3px,transparent 3px,transparent 16px);background-attachment:fixed;background-position:0 0;border:none;box-shadow:inset 0 0 0 1px var(--color-slate-alpha01);border-radius:0px;}
.standdown-gap.standdown-gap-start{border-top-left-radius:0px;border-bottom-left-radius:0px;box-shadow:inset 1px 0 0 var(--color-slate-alpha01), inset 0 0 0 1px var(--color-slate-alpha01);}
.standdown-gap.standdown-gap-end{border-top-right-radius:0px;border-bottom-right-radius:0px;box-shadow:inset -1px 0 0 var(--color-slate-alpha01), inset 0 0 0 1px var(--color-slate-alpha01);}
.standdown-gap.standdown-gap-start.standdown-gap-end{box-shadow:inset 1px 0 0 var(--color-slate-alpha01), inset -1px 0 0 var(--color-slate-alpha01), inset 0 0 0 1px var(--color-slate-alpha01);}
.mini-0{background:var(--color-shadow-alpha-light);} .mini-1{background:var(--color-mini-emerald);} .mini-2{background:var(--color-mini-amber);} .mini-3{background:var(--color-mini-rose);} .mini-4{background:var(--color-mini-purple);} .mini-5{background:var(--color-mini-aqua);} .mini-6{background:var(--color-mini-orange);}
.handle{position:absolute;top:0;bottom:0;width:10px;background:var(--color-ink-alpha05);border-radius:0px;cursor:ew-resize;opacity:0;transition:opacity .15s ease;z-index:6;}
.task-bar:hover .handle,.task-bar.selected .handle{opacity:1;}
.handle-start{left:-4px;}
.handle-end{right:-4px;}
.empty-state{padding:2rem 1.5rem;color:var(--text-general-color,var(--color-text-primary));font-size:var(--text-general-font-size,.8rem);text-align:center;}
.modal-backdrop{position:fixed;inset:0;background:var(--color-ink-alpha05);backdrop-filter:blur(2px);z-index:10;}
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:11;padding:2rem;}
.modal.hidden,.modal-backdrop.hidden{display:none;}
.modal-content{background:var(--color-white);border-radius:0px;width:min(720px,96vw);max-height:92vh;display:flex;flex-direction:column;box-shadow:0 28px 64px var(--color-shadow-alpha-light);overflow:auto;}
.modal-header{padding:1.3rem 1.75rem 1rem;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;}
.modal-body{padding:1.4rem 1.75rem;display:flex;flex-direction:column;gap:1.4rem;}
.form-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:1rem 1.4rem;}
.form-group{display:flex;flex-direction:column;gap:.4rem;font-size:var(--text-general-font-size,.8rem);}
.form-group label{font-weight:var(--text-general-font-weight,600);color:var(--text-general-color,var(--color-text-primary));}
.duration-indicator{display:inline-flex;align-items:center;gap:.4rem;padding:.35rem .6rem;border-radius:0px;background:var(--color-white);color:var(--text-general-color,var(--color-text-primary));font-size:var(--text-general-font-size,.8rem);font-weight:var(--text-general-font-weight,600);}
.mini-task-section{border:1px solid var(--border);border-radius:0px;background:var(--color-white);padding:1.1rem 1.4rem;display:flex;flex-direction:column;gap:1rem;}
.mini-task-section h3{font-size:.95rem;font-weight:var(--text-general-font-weight,600);}
.mini-task-section p{margin:0;font-size:var(--text-general-font-size,.8rem);color:var(--text-general-color,var(--color-text-primary));}
.mini-task-header{display:flex;justify-content:space-between;align-items:flex-start;gap:.8rem;flex-wrap:wrap;}
.mini-task-heading{flex:1 1 auto;min-width:220px;}
.mini-task-toolbar{display:inline-flex;align-items:center;gap:.4rem;}
.mini-task-toolbar button{border:1px solid var(--border);background:var(--color-white);color:var(--color-solid-black);border-radius:0px;width:3rem;height:3rem;font-weight:var(--text-general-font-weight,600);cursor:pointer;display:inline-flex;align-items:center;justify-content:center;transition:color .15s ease,transform .15s ease;}
.mini-task-toolbar button:hover:not(:disabled){color:var(--color-solid-black);border-color:var(--border);transform:translateY(-1px);}
.mini-task-toolbar button:disabled{cursor:not-allowed;opacity:.45;transform:none;}
.mini-task-controls-row{display:flex;justify-content:flex-end;align-items:center;gap:.6rem;flex-wrap:wrap;margin-top:-.3rem;}
.mini-unit-toggle{display:inline-flex;align-items:center;background:var(--color-white);border:1px solid var(--border);border-radius:0px;padding:2px;}
.mini-unit-toggle .mini-unit-btn{border:1px solid var(--border);background:var(--color-white);color:var(--color-solid-black);font-weight:var(--text-general-font-weight,600);padding:.28rem .6rem;border-radius:0px;cursor:pointer;width:3rem;white-space:nowrap;transition:background .15s ease;}
.mini-unit-toggle .mini-unit-btn.active{background:var(--color-shadow-alpha-light);}
.mini-unit-toggle .mini-unit-btn:focus-visible{outline:2px solid var(--color-deadline-color);outline-offset:2px;}
.mini-task-list{display:flex;flex-direction:column;gap:.8rem;}
.mini-task-item{display:grid;grid-template-columns:auto minmax(0,calc(300px - 3rem)) 110px auto;gap:.55rem;align-items:center;padding:.45rem .65rem;border-radius:0px;background:var(--color-white-alpha90);border:1px solid var(--border);transition:box-shadow .15s ease, border-color .15s ease;}
.mini-task-item.duration-focused{box-shadow:0 0 0 2px var(--border);border-color:var(--border);}
.mini-task-item.locked{border-color:var(--border);box-shadow:0 0 0 2px var(--border) inset;}
.mini-task-item.disabled{opacity:.4;}
.mini-task-item label{display:flex;align-items:center;gap:.4rem;font-weight:var(--text-general-font-weight,600);font-size:.82rem;}
.mini-task-item input[type="checkbox"]{width:18px;height:18px;accent-color:var(--color-solid-black);}
.mini-task-item select{font:inherit;border-radius:0px;border:1px solid var(--border);padding:.4rem .5rem;background:var(--color-white);color:inherit;}
.mini-task-item select:disabled{background:var(--color-white);}
.mini-task-duration{display:flex;align-items:center;gap:.3rem;font-size:.75rem;color:var(--color-solid-black);}
.mini-task-duration input{width:58px;text-align:right;padding-right:.3rem;font-size:.75rem;height:26px;}
.mini-duration-controls{display:flex;flex-direction:column;gap:.25rem;align-items:center;}
.mini-duration-btn{width:1rem;height:1rem;border:1px solid var(--border);border-radius:0px;background:var(--color-white);color:var(--color-solid-black);font-weight:var(--text-general-font-weight,600);display:flex;align-items:center;justify-content:center;padding:0;line-height:1;cursor:pointer;transition:color .15s ease,transform .15s ease;}
.mini-duration-btn:hover:not(:disabled){border-color:var(--border);transform:translateY(-1px);}
.mini-duration-btn:disabled{opacity:.35;cursor:not-allowed;transform:none;color:var(--color-solid-black);}
.mini-task-move-buttons{display:flex;gap:.25rem;}
.mini-move-btn{width:28px;height:28px;border:1px solid var(--border);border-radius:0px;background:var(--color-white);color:var(--color-solid-black);font-weight:var(--text-general-font-weight,600);display:flex;align-items:center;justify-content:center;padding:0;line-height:1;cursor:pointer;transition:color .15s ease,transform .15s ease;}
.mini-move-btn:hover:not(:disabled){border-color:var(--border);transform:translateY(-1px);}
.mini-move-btn:disabled{opacity:.35;cursor:not-allowed;transform:none;color:var(--color-solid-black);}
.single-event-toggle{display:inline-flex;align-items:center;gap:.5rem;font-weight:var(--text-general-font-weight,600);color:var(--color-solid-black);}
.single-event-toggle input{width:18px;height:18px;accent-color:var(--color-solid-black);}
.mini-delay-extras{display:none;grid-column:1 / -1;width:100%;flex-direction:column;align-items:flex-start;gap:.5rem;margin-top:.4rem;}
.mini-task-item.delay-active .mini-delay-extras{display:flex;}
.mini-task-item.delay-active .mini-task-duration{margin-bottom:.2rem;}
.mini-delay-extras textarea{font-size:var(--text-general-font-size,.8rem);padding:.35rem .5rem;border:1px solid var(--border);border-radius:0px;width:300px;min-height:96px;resize:vertical;}
.mini-delay-extras textarea:disabled{background:var(--color-disabled-surface);color:var(--text-general-color,var(--color-text-primary));cursor:not-allowed;}
.mini-delay-extras .mini-delay-charge{display:flex;align-items:center;gap:.4rem;font-size:.76rem;color:var(--color-solid-black);}
.delay-modal-backdrop{position:fixed;inset:0;background:var(--color-ink-alpha05);backdrop-filter:blur(2px);z-index:14;}
.delay-modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:15;padding:2rem;}
.delay-modal.hidden,.delay-modal-backdrop.hidden{display:none;}
.delay-modal-content{background:var(--color-white);border-radius:0px;width:min(720px,95vw);max-height:92vh;display:flex;flex-direction:column;box-shadow:0 28px 64px var(--color-shadow-alpha-light);overflow:hidden;}
.delay-modal-header{display:flex;align-items:center;justify-content:space-between;padding:1.2rem 1.5rem;border-bottom:1px solid var(--color-ink-alpha05);}
.delay-modal-header h2{margin:0;font-size:.95rem;font-weight:var(--text-general-font-weight,600);}
.delay-close-btn{border:1px solid var(--border);background:var(--color-white);font-size:.95rem;line-height:1;cursor:pointer;color:var(--color-solid-black);padding:0;border-radius:0px;width:2rem;height:2rem;display:inline-flex;align-items:center;justify-content:center;}
.delay-close-btn:hover{border-color:var(--border);}
.delay-modal-body{padding:1.2rem 1.5rem;overflow:auto;}
.delay-table{width:100%;border-collapse:collapse;font-size:var(--text-general-font-size,.8rem);}
.delay-table th,.delay-table td{border:1px solid var(--color-ink-alpha05);padding:.55rem .6rem;text-align:left;vertical-align:middle;white-space:normal;word-break:break-word;}
.delay-table thead{background:var(--color-accent-blue);font-weight:var(--text-button-font-weight,700);}
.delay-table tbody tr:nth-child(even){background:var(--color-table-row-alternate);}
.delay-table tbody textarea{width:300px;max-width:100%;box-sizing:border-box;font-size:var(--text-general-font-size,.8rem);padding:.3rem .45rem;border:1px solid var(--color-ink-alpha05);border-radius:0px;min-height:96px;resize:vertical;}
.delay-charge-cell{padding:0;text-align:center;vertical-align:middle;}
.delay-charge-cell .delay-charge-wrapper{display:flex;justify-content:center;align-items:center;height:100%;padding:.55rem 0;}
.delay-table-empty{text-align:center;color:var(--text-general-color,var(--color-text-primary));font-style:italic;}
.modal-footer{padding:1rem 1.75rem 1.35rem;border-top:1px solid var(--border);display:flex;justify-content:flex-end;gap:.75rem;}
.modal-footer .secondary{background:var(--color-white);color:var(--color-solid-black);border:1px solid var(--border);}
.modal-footer .secondary:hover{color:var(--color-solid-black);border-color:var(--border);transform:none;}
.app-branding{position:fixed;bottom:1.5rem;left:1.5rem;display:flex;align-items:center;gap:.75rem;z-index:4;}
.app-branding img{width:80px;height:80px;object-fit:contain;}
.app-branding-text{font-size:var(--text-text-small-font-size,.65rem);color:var(--text-text-small-color,var(--color-text-muted));font-weight:var(--text-text-small-font-weight,450);}
.schedule-modal-backdrop{position:fixed;inset:0;background:var(--color-ink-alpha05);backdrop-filter:blur(2px);z-index:12;}
.schedule-modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:13;padding:2rem;}
.schedule-modal.hidden,.schedule-modal-backdrop.hidden{display:none;}
.schedule-modal-content{background:var(--color-white);border-radius:0px;width:min(660px,95vw);max-height:92vh;display:flex;flex-direction:column;box-shadow:0 28px 64px var(--color-shadow-alpha-light);}
.schedule-modal-header{padding:1.4rem 1.75rem 1rem;border-bottom:1px solid var(--color-ink-alpha05);display:flex;flex-direction:column;gap:.45rem;}
.schedule-modal-header h2{margin:0;font-size:.95rem;font-weight:var(--text-general-font-weight,600);}
.schedule-modal-header p{margin:0;font-size:.88rem;color:var(--color-solid-black);}
.schedule-modal-body{padding:1.4rem 1.75rem;display:flex;flex-direction:column;gap:1rem;overflow:auto;}
.milestone-toolbar{display:flex;gap:.6rem;flex-wrap:wrap;}
.milestone-toolbar button{background:var(--color-white);color:var(--color-solid-black);border:1px solid var(--border);border-radius:0px;padding:.45rem 1rem;font-weight:var(--text-general-font-weight,600);cursor:pointer;transition:border-color .15s ease,box-shadow .15s ease;}
.milestone-toolbar button:hover{border-color:var(--color-slate-alpha01);box-shadow:0 8px 16px var(--color-slate-alpha01);}
.milestone-toolbar button:disabled{opacity:.4;cursor:not-allowed;box-shadow:none;}
.milestone-toolbar .neutral{background:var(--color-white);color:var(--color-solid-black);border:1px solid var(--border);box-shadow:none;}
.milestone-toolbar .neutral:hover{transform:none;color:var(--color-solid-black);border-color:var(--color-slate-alpha01);}
.milestone-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:.75rem;}
.milestone-item{display:grid;grid-template-columns:minmax(0,1fr) 140px repeat(2,minmax(130px,1fr));gap:.75rem;align-items:center;padding:.8rem 1rem;border:1px solid var(--color-ink-alpha05);border-radius:0px;background:var(--color-surface-overlay);position:relative;cursor:pointer;transition:border-color .15s ease,box-shadow .15s ease,background .15s ease;}
.milestone-item:hover{border-color:var(--color-slate-alpha01);box-shadow:0 12px 28px var(--color-slate-alpha01);}
.milestone-item.selected{border-color:var(--color-solid-black);box-shadow:0 14px 34px var(--color-shadow-alpha-light);background:var(--color-white);}
.milestone-item .field{display:flex;flex-direction:column;gap:.3rem;}
.milestone-item .field label{font-size:.72rem;font-weight:var(--text-general-font-weight,600);color:var(--color-solid-black);}
.milestone-item input[type="text"]{border:1px solid var(--border);border-radius:0px;padding:.4rem .6rem;font-size:.85rem;}
.milestone-item select,
.milestone-item input[type="date"]{border:1px solid var(--border);border-radius:0px;padding:.35rem .5rem;font-size:var(--text-general-font-size,.8rem);}
.milestone-item .placeholder{display:flex;align-items:center;justify-content:center;font-size:var(--text-general-font-size,.8rem);color:var(--text-general-color,var(--color-text-primary));background:var(--color-ink-alpha05);border:1px dashed var(--color-ink-alpha05);border-radius:0px;padding:.45rem;}
.empty-milestones{padding:1.2rem;border:1px dashed var(--color-ink-alpha05);border-radius:0px;text-align:center;color:var(--text-general-color,var(--color-text-primary));font-size:var(--text-general-font-size,.8rem);}
.schedule-modal-footer{padding:1rem 1.75rem 1.35rem;border-top:1px solid var(--color-ink-alpha05);display:flex;justify-content:flex-end;gap:.75rem;background:var(--color-white);border-radius:0px;}
.schedule-modal-footer .secondary{background:var(--color-white);color:var(--color-solid-black);border:1px solid var(--border);padding:.55rem 1.15rem;border-radius:0px;}
.schedule-modal-footer .secondary:hover{color:var(--color-solid-black);border-color:var(--color-slate-alpha01);transform:none;}
.schedule-modal-footer button:not(.secondary){background:var(--color-white);color:var(--color-solid-black);border:1px solid var(--border);padding:.55rem 1.25rem;font-weight:var(--text-general-font-weight,600);border-radius:0px;cursor:pointer;transition:border-color .15s ease,box-shadow .15s ease;}
.schedule-modal-footer button:not(.secondary):hover{border-color:var(--color-slate-alpha01);box-shadow:0 10px 20px var(--color-slate-alpha01);}
.generate-modal-backdrop{position:fixed;inset:0;background:var(--color-ink-alpha05);backdrop-filter:blur(2px);z-index:12;}
.generate-modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:13;padding:2rem;}
.generate-modal.hidden,.generate-modal-backdrop.hidden{display:none;}
.generate-modal-content{background:var(--color-white);border-radius:0px;width:min(520px,92vw);max-height:90vh;display:flex;flex-direction:column;box-shadow:0 28px 64px var(--color-shadow-alpha-light);}
.generate-modal-header{padding:1.4rem 1.75rem 1rem;border-bottom:1px solid var(--color-ink-alpha05);display:flex;flex-direction:column;gap:.4rem;}
.generate-modal-header h2{margin:0;font-size:.95rem;font-weight:var(--text-general-font-weight,600);}
.generate-modal-header p{margin:0;font-size:.9rem;color:var(--color-solid-black);}
.generate-modal-body{padding:1.4rem 1.75rem;overflow:auto;}
.generate-modal-footer{padding:1rem 1.75rem 1.3rem;border-top:1px solid var(--color-ink-alpha05);display:flex;justify-content:flex-end;gap:.75rem;background:var(--color-white);border-radius:0px;}
.generate-modal-footer .secondary{background:var(--color-white);color:var(--color-solid-black);border:1px solid var(--border);border-radius:0px;padding:.55rem 1.1rem;}
.generate-modal-footer .secondary:hover{color:var(--color-solid-black);border-color:var(--color-slate-alpha01);}
.generate-modal-footer button:not(.secondary){background:var(--color-white);color:var(--color-solid-black);border:1px solid var(--border);padding:.55rem 1.25rem;font-weight:var(--text-general-font-weight,600);border-radius:0px;cursor:pointer;transition:border-color .15s ease,box-shadow .15s ease;}
.generate-modal-footer button:not(.secondary):hover{border-color:var(--color-slate-alpha01);box-shadow:0 10px 20px var(--color-slate-alpha01);}
.footer-controls{position:fixed;right:1.5rem;bottom:1.5rem;display:flex;align-items:center;gap:1rem;z-index:5;}
.footer-controls .legend-wrapper{margin-left:0;}
.footer-controls .timeline-controls{display:flex;align-items:center;gap:.75rem;}
.floating-edit-btn{position:fixed;display:none;background:var(--color-white);color:var(--color-solid-black);border:1px solid var(--border);box-shadow:0 8px 16px var(--color-shadow-alpha-light);border-radius:0px;padding:.3rem .65rem;font-size:var(--text-button-font-size,.95rem);font-weight:var(--text-button-font-weight,600);z-index:200;width:5rem;min-width:5rem;}
@media(max-width:1200px){:root{--sidebar-width:320px;--day-width:28px;}}
@media(max-width:960px){:root{--sidebar-width:100%;}.app{flex-direction:column;}.sidebar{width:100%;flex:auto;max-height:55vh;border-right:none;border-bottom:1px solid var(--border);position:relative;left:auto;z-index:auto;}.task-list-header,.task-row{grid-template-columns:64px minmax(0,1.2fr) 92px 92px 92px 76px;}.task-duration{display:none;}}
